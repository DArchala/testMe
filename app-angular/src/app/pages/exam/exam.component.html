<div id="exam-super-container">
  <div id="exam-data-div">
    <p><span>ID:</span> {{exam.id}}</p>
    <p><span>Nazwa:</span> {{exam.examName}}</p>
    <p><span>Poziom trudności:</span> {{exam.difficultyLevel}}</p>
    <p><span>Czas egzaminu:</span> {{exam.timeInSeconds | examTimer}}</p>
    <p><span>Liczba pytań: </span>{{exam.questions?.length}}</p>
    <p><span>Twój ostatni wynik: </span>{{this.responseExamPoints}} / {{this.examMaxPoints}}
      = {{getPercentageExamScore(this.responseExamPoints, this.examMaxPoints)}}</p>
    <p><span>Twój ostatni czas egzaminu:</span> {{userLastExamTime | examTimer}}</p>

    <div class="exam-start-finish-button-div" *ngIf="!examStarted">
      <button class="exam-start-finish-button" (click)="startTest()">Rozpocznij egzamin!</button>
    </div>

    <div class="exam-start-finish-button-div" *ngIf="examStarted">
      <button class="exam-start-finish-button"
              (click)="finishTestByClick('Czy chcesz zakończyć egzamin?')">
        Zakończ egzamin</button>
    </div>
  </div>

  <div id="exam-questions" *ngIf="examStarted">
    <div id="timer">
      {{examTimeLeft | examTimer}}
    </div>
    <div id="exam-question" *ngFor="let question of exam.questions; let i = index">

      <p id="question-content">{{i + 1 + '. ' + question.content}}</p>

      <ng-container [ngSwitch]="question.type">

        <div *ngSwitchCase="'single'">
          <div class="answers" *ngFor="let answer of question.answers">
            <input type="checkbox" class="answer-radio"
                   (change)="uncheckOtherAnswers(answer, question)"
                   [(ngModel)]="answer.correctness" [value]="true"
                   name="{{question.id}}">
            <span>{{answer.content}}</span>
          </div>
        </div>

        <div *ngSwitchCase="'multiple'">
          <div class="answers" *ngFor="let answer of question.answers">
            <input type="checkbox" class="answer-checkbox"
                   [(ngModel)]="answer.correctness" [value]="true"
                   name="{{question.id}}">
            <span>{{answer.content}}</span>
          </div>
        </div>

        <div *ngSwitchCase="'short'">
          <input type="text" class="user-answer-text-input"
                 [(ngModel)]="question.userAnswer"
                 name="{{question.id}}">
        </div>

      </ng-container>

    </div>
  </div>
</div>
